    {% extends "plantilla.html"%}
    {%block body%}
    <!--mensaje con Jinja-->
    {% with msj = get_flashed_messages() %}
    {% if msj %}
    {% for mensaje in msj %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <strong>{{ mensaje }}</strong> 
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <script> Swal.fire({
            title: "Correcto",
            text: "Album guardado con éxito",
            icon: "success"
          });</script>
    {%endfor%}
    {%endif%}
    {%endwith%}
    
    <h1 class="text-center mt-5 mb-5 display-4 text-danger">Gestion de albums</h1>
    <div class="row">
        <div class="col-md-6">
        <!--aqui va el formulario-->

        <div class="container" style="background-color: #d17cff;" >
          <!--hacer un formulario con título, artista, año-->
            <form action="/guardarAlbum" method="post">


                <div class="mb-3 ">
                <label class="mt-3">Título: </label>
                <input type="Text" name="txtTitulo" class="form-control" style="background-color: #ebc7ff;">
                </div>

                <div class="mb-3">
                <label>Artista: </label>
                <input type="Text" name="txtArtista" class="form-control" style="background-color: #ebc7ff;">
                </div>


                <div class="mb-3">
                <label>Año: </label>
                <input type="number" name="txtAnio" class="form-control" style="background-color: #ebc7ff;">
                </div>
                <button type="submit" class="btn mt-3 mb-5" style="background-color: #802eac;">Guardar Album</button>
            </form>
        </div><!--cierra la columna md-5-->
        </div><!--cierra el container-->
        <div class="container col-md-6" >
        <div  >
        <!--aqui va la tabla-->
            <table class="table table-striped table-hover" >
                <thead >
                    <!--preparar los contenidos del ecabezado-->
                    <tr >
                        <td>ID:</td>
                        <td>Album:</td>
                        <td>Artista:</td>
                        <td>Año:</td>
                        <td>Operaciones:</td>

                    </tr>        
                </thead>
                <!--procesar los elementos de latabla-->
                <tbody>
                    {%for album in albums%}
                    <tr>
                        <!--Escrbimos los td que se necesitan y declara con una impresion-->
                        <td>{{album.0}}</td>
                        <td>{{album.1}}</td>
                        <td>{{album.2}}</td>
                        <td>{{album.3}}</td>
                        <!--Agregar la parte de eliminar y agregar-->
                        <td><a href="/editar/{{album.0}}" type="button" class="btn btn-info">Editar</a>
                        <a href="/EliminarAlbum" onclick="confirmarEliminacion(event, '{{ album.0 }}')" type="button" class="btn btn-danger">Borrar</a></td>
                        </td>
                    </tr>
                    {%endfor%}
                </tbody>
            </table>
        </div><!--cierra el cotainer de la tabla-->
        </div><!--cierra el col-7-->
    </div><!--cierra la row-->

  
  
    
    {%endblock%}
